{% extends 'site_base.html' %}

{% block body %}

<div id="content-main">
	<!-- search -->
   	<div class="col-md-8 col-md-offset-2" style="margin-top:-30px;margin-bottom:40px">
   		<div class="pull-right">
	   		<form class="form-inline" role="form" action="{% url "info.search" %}">
			    <input type="text" class="form-control" id="q" name="q" placeholder="enter key words" value="{{ query }}"/>
				<button type="submit" class="btn btn-default">search</button>
			</form>
	   	</div>
   	</div>
   	
	<!-- info 列表 -->
    {% for result in page.object_list %}
   	<div class="col-md-8 col-md-offset-2">
    	<a href="{% url "info.detail" result.object.pk request.path %}" class="btn btn-default">{{ result.title|safe }}</a>
    	<hr>
   	</div>
    {% endfor %}
    
    
    
    <!-- 分页 -->
    {% if page.object_list %}
    <div id="pagination" class="col-md-8 col-md-offset-2">
		<ul class="pagination">
			{% if page.has_previous %}<li><a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">&laquo;</a></li>{% endif %}
			{% for idx in paginator.page_range %}
				<!-- 是否为选中状态 -->
				{% if page.number == idx %}
				<li class="active"><a href="?q={{ query }}&amp;page={{ idx }}">{{ idx }}</a></li>
				{% else %}
				<li><a href="?q={{ query }}&amp;page={{ idx }}">{{ idx }}</a></li>
				{% endif %}
			{% endfor %}
   	        {% if page.has_next %}<li><a href="?q={{ query }}&amp;page={{ page.next_page_number }}">&raquo;</a></li>{% endif %}
		</ul>
	</div>
	{% endif %}
    
</div>
{% endblock %}